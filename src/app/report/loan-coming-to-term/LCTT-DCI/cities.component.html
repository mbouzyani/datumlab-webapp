
<div class="row btns-row">
  <div class="row main-btns-select">
      <div class="select-container-112">
        <mat-form-field>
          <mat-label class="select_title">Score</mat-label>
          <mat-select [formControl]="scoreForm" panelClass="mat-select-panel" multiple>
            <mat-select-trigger>
              {{scoreForm.value ? scoreForm.value[0] : ''}}
              <span *ngIf="scoreForm.value?.length > 1" class="example-additional-selection">
                (+{{scoreForm.value.length - 1}} {{scoreForm.value?.length === 2 ? 'autre' : 'autres'}})
              </span>
            </mat-select-trigger>
            <mat-option 
              *ngFor="let score of scoreListForm" 
              [value]="score" 
              [disabled]="scoreForm.value.length==1 && scoreForm.value[0]==score" 
              (click)="scoreForm.value.length==1 && scoreForm.value[0]==score ?  '' : requestData(); "
            >{{score}}
            </mat-option>
          </mat-select>
        </mat-form-field> 
      </div>
  
      <div class="select-container-112">
        <mat-form-field>
          <mat-label class="select_title">Mois</mat-label>
          <mat-select [formControl]="monthForm" panelClass="mat-select-panel" multiple>
            <mat-select-trigger>
              {{monthForm.value ? monthForm.value[0] : ''}}
              <span *ngIf="monthForm.value?.length > 1" class="example-additional-selection">
                (+{{monthForm.value.length - 1}} {{monthForm.value?.length === 2 ? 'autre' : 'autres'}})
              </span>
            </mat-select-trigger>
            <mat-option 
              *ngFor="let month of monthListForm" 
              [value]="month"  
              [disabled]="monthForm.value.length==1 && monthForm.value[0]==month" 
              (click)="monthForm.value.length==1 && monthForm.value[0]==month ?  '' : requestData(); "
            >
              {{month}}
            </mat-option>
          </mat-select>
        </mat-form-field> 
      </div>
  
      <div class="select-container-112">
        <mat-form-field>
          <mat-label class="select_title">Capacité</mat-label>
          <mat-select [formControl]="capacityForm" panelClass="mat-select-panel" multiple>
            <mat-select-trigger>
              {{capacityForm.value ? capacityForm.value[0] : ''}}
              <span *ngIf="capacityForm.value?.length > 1" class="example-additional-selection">
                (+{{capacityForm.value.length - 1}} {{capacityForm.value?.length === 2 ? 'autre' : 'autres'}})
              </span>
            </mat-select-trigger>
            <mat-option 
              *ngFor="let capacity of capacityListForm" 
              [value]="capacity"  
              [disabled]="capacityForm.value.length==1 && capacityForm.value[0]==capacity" 
              (click)="capacityForm.value.length==1 && capacityForm.value[0]==capacity ?  '' : requestData(); "
            >
              {{capacity == '35' ? 'inférieur à 35' : capacity == '45' ? 'supérieur à 45' : 'entre 35 et 45'}}</mat-option>
            </mat-select> 
        </mat-form-field> 
      </div>

      <div class="select-container-224">
       
      </div>
  </div>
  <div class="row">
    <div class="btn-shared">
      <button mat-raised-button color="Basic" 
            style="display: flex; align-items: center;" 
            (click)="email.showPopupEmail()">
        <mat-icon style="font-size: 20px;">share</mat-icon>
        Partager
      </button>
    </div>
    <div class="btn-export">
      <button mat-raised-button color="primary" style="display: flex; align-items: center;">
        <mat-icon style="font-size: 20px;">save_alt</mat-icon>
        Export
      </button>
    </div>
  </div>
</div>

<!-- <div class="container"> -->
<div class="globe-container row">
  <div class="al-sidebar" style="flex: 1;">
      <ul class="al-sidebar-list">
          <div class="region"  *ngFor="let region of region_list; index as i">
              <li class="bar-itm" 
                  [ngClass]="{alSideBarListItem: true, selected: lastSelectedRegion === region ? true : false}">
                  <div id="timeline" [ngClass]="{row: true, itm: lastSelectedRegion === region ? false : true}" style="width: 100%;justify-content: space-between;" (click)="ActiveRegion(region)">
                    <div>{{region}} </div>
                    <!-- <mat-icon id="{{region}}-scrolle" class="close size-20 black-text rotate" style="font-size:15px; width: 11px; padding-right: 20px;">keyboard_arrow_right</mat-icon> -->
                    <!-- <div *ngIf="lastSelectedRegion === region" style="width: 20px; height: 20px; background-color: #fff; transform: rotate(45deg); margin-right: -14px;"></div> -->
                  </div>
              </li>
          
          </div>
      </ul>
  </div>
  <div id="city-container3" class="city" style="flex: 2.3; min-width: 350px;"></div>
</div>

<app-email-report #email title='Rapport e-mail:  Crédit arrivant à échéance, Distribution par ville' ></app-email-report>

